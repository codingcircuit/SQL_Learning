<!--
![Screenshot of a comment on a GitHub issue showing an image, added in the Markdown, of an Octocat smiling and raising a tentacle.](/01.%20basic-sql/images/go-back-arrow.png?raw=true)
-->



[![Go to Next Course](https://raster.shields.io/badge/%3C-E69138)](/03.%20plsql/README.md)
[![Go to Course Contents](https://raster.shields.io/badge/Previous_Course-E69138)](/03.%20plsql/README.md)
[![Go to Course Contents](https://raster.shields.io/badge/Course_Contents-6AA84F)](/03.%20plsql/README.md)
[![Go to Course Contents](https://raster.shields.io/badge/Next_Course-3D85C6)](/03.%20plsql/02.%20Flow%20Control%20(Conditional%20Statements).md)
[![Go to Next Course](https://raster.shields.io/badge/%3E-blue)](/03.%20plsql/02.%20Flow%20Control%20(Conditional%20Statements).md)


# 1. Getting started with PLSQL

- PL/SQL stands for Procedural Language extension of SQL.
- A combination of SQL along with the procedural features of
programming languages.
- Extends SQL by adding constructs found in procedural languages
like procedures, loops, variables, objects etc.
- PL/SQL program can consists of SQL and PL/SQL statements in
different blocks.
- A portable and high performance processing language.
- General syntax is based on that of ADA and Pascal programming
language.

<br>  

#### PL/SQL, How does it differ from SQL?

<br>  

![images/plsql-engine.png](/03.%20plsql/images/plsql-engine.png?raw=true)

<br>  

![images/plsql-sql-diff.png](/03.%20plsql/images/plsql-sql-diff.png?raw=true)

<br>  

#### Main Advantages of PL/SQL

- **Better Performance** due to block structure. In PL/SQL,SQL
statements can be grouped to blocks and the entire block
can be sent to database at one time for execution.
- **Less network traffic and improved response time**.
PL/SQL subprograms are compiled once and stored in
executable form. Thus, a single call can start a large job and
the work can be divided effectively.
- **Exception Handling**. Supports easy and effective exception handling method.
- **Portability**. Applications written in PL/SQL can run on any
operating system and platform where the database runs.
- **Integration with SQL**. Most of the SQL operations can be
done using PL/SQL and also supports SQL data types.
- PL/SQL supports both **Static SQL** and **Dynamic SQL**. Static SQL
supports DML and transaction control operations from
PL/SQL block. Dynamic SQL makes the application more
flexible and allows embedding DDL statements in PL/SQL
blocks and for creating run time queries.
- PL/SQL provides the ability to loop through records,
manipulating them one at a time whereas SQL does not.
- PL/SQL provides access to **predefined SQL packages**.
- Supports **Object Oriented Programming**.

<br>  

> [Further Reading](https://docs.oracle.com/en/database/oracle/oracle-database/21/lnpls/overview.html#GUID-17166AA4-14DC-48A6-BE92-3FC758DAA940)

<br>  

### PL/SQL Program Structure


- The basic unit of PL/SQL program is the **block**.
- PL/SQL programs are divided and written in logical blocks of
code.
- Each block consists of three sub parts
  - Declarations
  - Executable Commands
  - Exception Handling


<!-- 

![images/plsql-block1.png](/03.%20plsql/images/plsql-block1.png?raw=true)

-->

<br>  

#### PL/SQL Block Structure

![images/plsql-block2.png](/03.%20plsql/images/plsql-block2.png?raw=true)

<br>  


### PL/SQL Data Types

- Each value in PL/SQL such as a constant, variable and parameter has a data type that determines the storage format, valid values, and allowed operations.

- PL/SQL has two kinds of data types:
    - scalar - store single values such as number, Boolean, character, and datetime
    - composite - that store multiple values, for example, record and collection

##### scalar data types

PL/SQL divides the scalar data types into four families:
- Number
- Boolean
- Character
- Datetime

<br>  

> [!NOTE]  
> A scalar data type may have subtypes. A subtype is a data type that is a subset of another data type, which is its base type.  
> A subtype further defines a base type by restricting the value or size of the base data type.
>  
> PL/SQL scalar data types include SQL data types and their own data types such as Boolean.


<br>  


##### Numeric data types
- The numeric data types represent real numbers, integers, and floating-point numbers. They are stored as ```NUMBER```, IEEE floating-point storage types (```BINARY_FLOAT``` and ```BINARY_DOUBLE```), and ```PLS_INTEGER```.

- The data types ```NUMBER```, ```BINARY_FLOAT```, and ```BINARY_DOUBLE``` are SQL data types.

- The ```PLS_INTEGER``` datatype is specific to PL/SQL. It represents signed 32 bits integers that range from ```-2,147,483,648``` to ```2,147,483,647```.

- Because ```PLS_INTEGER``` datatype uses hardware arithmetic, they are faster than NUMBER operations, which uses software arithmetic.

- In addition, ```PLS_INTEGER``` values require less storage than ```NUMBER```. Hence, you should always use ```PLS_INTEGER``` values for all calculations in its range to increase the efficiency of programs.

<br>  

##### The ```PLS_INTEGER``` datatype has the following predefined subtypes:

PLS_INTEGER subtypes|	Description
--- | ---
 NATURAL	| Represents nonnegative ``` PLS_INTEGER ``` values
 NATURALN	| 	Represents nonnegative ``` PLS_INTEGER ``` values with ```NOT NULL constraint```
 POSITIVE	| 	Represents positive ``` PLS_INTEGER ``` values
 POSITIVEN	| 	Represents positive ``` PLS_INTEGER ``` value with ```NOT NULL constraint```
 SIGNTYPE	| 	Represents three values -1, 0, or 1, which are useful for tri-state logic programming
 SIMPLE_INTEGER	| 	Represents ``` PLS_INTEGER ``` values with ```NOT NULL constraint```  
 
 
 <br>  
 
> [!NOTE]  
> PLS_INTEGER and BINARY_INTEGER data types are identical.

<br>  

##### Boolean data type
The BOOLEAN datatype has three data values: TRUE, FALSE, and NULL. Boolean values are typically used in control flow structures such as IF-THEN, CASE, and loop statements like LOOP, FOR LOOP, and WHILE LOOP.

SQL does not have the BOOLEAN data type, therefore, you cannot:

Assign a BOOLEAN value to a table column.
Select the value from a table column into a BOOLEAN variable.
Use a BOOLEAN value in an SQL function.
Use a BOOLEAN expression in an SQL statement.
Use a BOOLEAN value in the DBMS_OUTPUT.PUTLINE DBMS_OUTPUT.PUT subprograms.

<br>  

##### Character data types
The character data types represent alphanumeric text. PL/SQL uses the SQL character data types such as CHAR, VARCHAR2, LONG, RAW, LONG RAW, ROWID, and UROWID.

 CHAR(n) is a fixed-length character type whose length is from 1 to 32,767 bytes.
 VARCHAR2(n) is varying length character data from 1 to 32,767 bytes.  
 
 <br>  
 
##### Datetime data types
The datetime data types represent dates, timestamps with or without time zones, and intervals. PL/SQL datetime data types are DATE, TIMESTAMP, TIMESTAMP WITH TIME ZONE, TIMESTAMP WITH LOCAL TIME ZONE, INTERVAL YEAR TO MONTH, and INTERVAL DAY TO SECOND.

<br>  

##### Data type synonyms
Data types have synonyms for compatibility with non-Oracle data sources such as IBM Db2, and SQL Server. It is not a good practice to use data type synonyms unless you are accessing a non-Oracle Database.

Data Type	Synonyms
NUMBER	DEC, DECIMAL, DOUBLE PRECISION, FLOAT, INTEGER, INT, NUMERIC, REAL, SMALLINT
CHAR	CHARACTER, STRING
VARCHAR2	VARCHAR
Now, you should have a complete overview of PL/SQL data types for manipulating data in the PL/SQL program.

